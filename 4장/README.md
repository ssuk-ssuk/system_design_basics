# 4μ¥: μ²λ¦¬μ¨ μ ν• μ¥μΉμ μ„¤κ³„

μ΄ μ±•ν„°λ” λ„¤νΈμ›ν¬ μ‹μ¤ν…μ—μ„ μ„λΉ„μ¤μ μ•μ •μ„±μ„ λ³΄μ¥ν•κ³  μμ› κ³ κ°μ„ λ°©μ§€ν•κΈ° μ„ν•΄ ν•„μμ μΈ μ²λ¦¬μ¨ μ ν• μ¥μΉ(Rate Limiter)μ μ„¤κ³„ λ°©λ²•κ³Ό λ‹¤μ–‘ν• μ•κ³ λ¦¬μ¦μ„ λ‹¤λ£Ήλ‹λ‹¤.

---

## π λ„μ… λ°°κ²½ λ° μ¥μ 

μ²λ¦¬μ¨ μ ν• μ¥μΉλ¥Ό λ„μ…ν•¨μΌλ΅μ¨ μ–»μ„ μ μλ” μ£Όμ” μ΄μ μ€ λ‹¤μκ³Ό κ°™μµλ‹λ‹¤.

- **DoS κ³µκ²© λ°©μ§€:** νΉμ • μ‚¬μ©μκ°€ μμ›μ„ λ…μ ν•κ±°λ‚ μ•…μμ μΈ κ³µκ²©(DoS)μΌλ΅ μ‹μ¤ν…μ„ λ§λΉ„μ‹ν‚¤λ” κ²ƒμ„ λ°©μ§€ν•©λ‹λ‹¤.

- **λΉ„μ© μ κ°:** λ¶ν•„μ”ν• νΈλν”½μ„ μ ν•ν•μ—¬ μ„λ²„ μμ›κ³Ό API νΈμ¶ λΉ„μ©μ„ μ•„λ‚„ μ μμµλ‹λ‹¤.

- **μ„λ²„ κ³Όλ¶€ν• λ°©μ§€:** λ΄‡(Bot) νΈλν”½μ΄λ‚ μ‚¬μ©μμ μ‹¤μλ΅ μΈν• λΉ„μ •μƒμ μΈ μ”μ²­ ν­μ£Όμ— λ€μ‘ν•μ—¬ μ„λ²„λ¥Ό λ³΄νΈν•©λ‹λ‹¤.

---

## π› οΈ μ²λ¦¬μ¨ μ ν• μ•κ³ λ¦¬μ¦ 5κ°€μ§€

μ‹μ¤ν…μ μ”κµ¬μ‚¬ν•­μ— λ”°λΌ μ μ ν• μ•κ³ λ¦¬μ¦μ„ μ„ νƒν•΄μ•Ό ν•©λ‹λ‹¤.

1. **ν† ν° λ²„ν‚· (Token Bucket):** λ²„ν‚·μ— λ‹΄κΈ΄ ν† ν°μ΄ μμ„ λ•λ§ μ”μ²­μ„ μ²λ¦¬ν•©λ‹λ‹¤. κµ¬ν„μ΄ μ‰½κ³  λ©”λ¨λ¦¬ ν¨μ¨μ μ΄μ§€λ§, μΈμ(λ²„ν‚· ν¬κΈ°, κ³µκΈ‰λ¥ ) νλ‹μ΄ κΉλ‹¤λ΅μΈ μ μμµλ‹λ‹¤.

2. **λ„μ¶ λ²„ν‚· (Leaky Bucket):** νλ¥Ό μ‚¬μ©ν•μ—¬ μ”μ²­ μ²λ¦¬μ¨μ„ κ³ μ •μ‹ν‚µλ‹λ‹¤. μ•μ •μ μΈ μ¶λ ¥μ΄ κ°€λ¥ν•μ§€λ§, λ‹¨μ‹κ°„μ— νΈλν”½μ΄ λ°λ¦΄ κ²½μ° μµμ‹  μ”μ²­μ΄ λ²„λ ¤μ§ μ μμµλ‹λ‹¤.

3. **κ³ μ • μλ„ μΉ΄μ΄ν„° (Fixed Window Counter):** νƒ€μ„λΌμΈμ„ κ³ μ •λ κ°„κ²©μΌλ΅ λ‚λ„μ–΄ μ ν•ν•©λ‹λ‹¤. μλ„ κ²½κ³„μ—μ„ νΈλν”½μ΄ λ°λ¦΄ κ²½μ° μ„¤κ³„λ ν•λ„λ³΄λ‹¤ λ” λ§μ€ μ”μ²­μ„ μ²λ¦¬ν•κ² λ  μ„ν—μ΄ μμµλ‹λ‹¤.

4. **μ΄λ™ μλ„ λ΅κΉ… (Sliding Window Log):** λ¨λ“  μ”μ²­μ νƒ€μ„μ¤νƒ¬ν”„λ¥Ό κΈ°λ΅ν•μ—¬ κ²½κ³„ λ¬Έμ λ¥Ό ν•΄κ²°ν•μ§€λ§, κ±°λ¶€λ μ”μ²­κΉμ§€ μ €μ¥ν•λ―€λ΅ λ©”λ¨λ¦¬ μ‚¬μ©λ‰μ΄ λ§μµλ‹λ‹¤.

5. **μ΄λ™ μλ„ μΉ΄μ΄ν„° (Sliding Window Counter):** κ³ μ • μλ„μ™€ μ΄λ™ μλ„ λ΅κΉ…μ μ¥μ μ„ κ²°ν•©ν•μ—¬ μ§§μ€ μ‹κ°„μ νΈλν”½ κΈ‰μ¦μ—λ„ μ λ€μ‘ν•λ©° λ©”λ¨λ¦¬ ν¨μ¨λ„ μΆ‹μµλ‹λ‹¤.

---

## π“ μƒμ„Έ μ„¤κ³„ ν¬μΈνΈ

### 1. μ ν•λ μ”μ²­μ μ²λ¦¬

- μ”μ²­μ΄ μ ν•λλ©΄ ν΄λΌμ΄μ–ΈνΈμ—κ² **HTTP 429 (Too Many Requests)** μ‘λ‹µμ„ λ³΄λƒ…λ‹λ‹¤.

- μƒν™©μ— λ”°λΌ μ ν•λ μ”μ²­μ„ λ²„λ¦¬μ§€ μ•κ³  **λ©”μ‹μ§€ ν**μ— λ³΄κ΄€ν•μ—¬ λ‚μ¤‘μ— μ²λ¦¬ν•  μλ„ μμµλ‹λ‹¤.

- **μ»¤μ¤ν…€ ν—¤λ”**(`X-Ratelimit-Remaining` λ“±)λ¥Ό ν†µν•΄ ν΄λΌμ΄μ–ΈνΈμ—κ² λ‚¨μ€ μ”μ²­ νμμ™€ μ¬μ‹λ„ κ°€λ¥ μ‹κ°„μ„ μ•λ ¤μ¤λ‹λ‹¤.

### 2. λ¶„μ‚° ν™κ²½μ—μ„μ κ³ λ ¤μ‚¬ν•­

- **κ²½μ μ΅°κ±΄ (Race Condition):** μ—¬λ¬ μ„λ²„μ—μ„ μΉ΄μ΄ν„°λ¥Ό μ—…λ°μ΄νΈν•  λ• λ°μƒν•λ” λ¬Έμ λ” **Lock**μ΄λ‚ **Lua μ¤ν¬λ¦½νΈ**, **Redis μ •λ ¬ μ§‘ν•©**μ„ ν™μ©ν•΄ ν•΄κ²°ν•©λ‹λ‹¤.

- **λ™κΈ°ν™” (Synchronization):** μ—¬λ¬ λ€μ μ ν• μ¥μΉλ¥Ό μ‚¬μ©ν•  λ• λ°μ΄ν„° μΌκ΄€μ„±μ„ μ„ν•΄ **Redis**μ™€ κ°™μ€ μ¤‘μ•™ μ§‘μ¤‘ν• μ €μ¥μ†λ¥Ό μ‚¬μ©ν•λ” κ²ƒμ΄ κ¶μ¥λ©λ‹λ‹¤.
